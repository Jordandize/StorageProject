<body ng-app="Commande" ng-controller="commandeController">


<h1>Order</h1>
<div class="col-sm-6 offset-sm-3">
  <div class="form-group">


    <div class="Row">
      <h3 class="Column" for="comment">Comment</h3>
    </div>


    <textarea rows="5" cols="75">
  </textarea>
  </div>
  <div>
    <div>
      <input id="attach" type="file"  (change)="fileChange($event)" placeholder="Upload file" accept=".pdf,.doc,.docx">
    </div>
  </div>
</div>
<div class="col-sm-12 offset-sm-3">
  <table style="width:50%">
    <tr>
      <th width="5%">№</th>
      <th width="30%">Category</th>
      <th width="30%">Product</th>
      <th width="20%">Amount</th>
      <th width="15%"></th>
    </tr>
  </table>

  <span *ngFor="let orderLine2 of orderLines">
  <table class="table table-striped table-hover table-responsive" id="orderLine"
         style="width:50%; text-align: center; vertical-align: middle;" border="solid">
    <thead>
    <tr>
      <th width="5%">{{orderLines.indexOf(orderLine2)+1}}</th>
      <th width="30%">
        <span id="category">
          <mat-select [(value)]="selectedCategoryId" placeholder="Specify category"
                      (selectionChange)="categoryChanged()">
              <mat-option>--</mat-option>
              <mat-option *ngFor="let category of categories" value="{{category.id}}">{{category.name}}</mat-option>
          </mat-select>
        </span>
      </th>
      <th width="30%">
        <span id="product">
          <mat-select [(value)]="selectedProductId" placeholder="Specify product">
              <mat-option>!!CHOOSE category first!!</mat-option>
              <mat-option *ngFor="let product of products" value="{{product.id}}">{{product.name}}</mat-option>
          </mat-select>
        </span>
      </th>
      <th width="15%">

        <mat-card-actions>

          <!--<mat-form-field>-->
              <input class="amount" style="width: 100%" [(ngModel)]="amount" (blur)="amountInput()" matInput value="0" length="5">
          <!--</mat-form-field>-->
          <button style="height:50%;width:50%; background-color: red; border-radius: 50%" (click)="decrease()">
            <mat-icon>remove</mat-icon>
          </button>
          <button style="height:50%;width:50%; background-color: forestgreen; border-radius: 50%" (click)="increase()">
            <mat-icon>add</mat-icon>
          </button>

        </mat-card-actions>
      </th>

      <button style="height:300%;width:50%;margin: 30%" (click)="clickToRemove(null)">❌</button>
    </tr>
    </thead>
    <tbody>
    <tr ng-app="orderLine" ng-controller="test">
    </tr>
    </tbody>
  </table>
  </span>

  <p></p>
  <table>
    <tr>
      <th width="80%">
        <button style="background-color: forestgreen" (click)="clickToAdd(null)">Add Product</button>
      </th>
      <th width="20%">
        <a href ng:click="AjouterArticle()" class="btn btn-primary">Send<i class="fa fa-plus"></i></a>
      </th>
    </tr>
  </table>

</div>

